import{db as n,cR as t,cP as r,ei as e,d7 as o}from"./vendor.1ee57f36.js";const u=(n,t,r)=>[t,r],i=(n,t,r)=>[t,r,n[2]],l=(n,t,r)=>[t,r,n[2],n[3]];function s(n){return n?{originPosition:"upper-left"===n.originPosition?"upperLeft":"lower-left"===n.originPosition?"lowerLeft":n.originPosition,scale:[n.tolerance,n.tolerance],translate:[n.extent.xmin,n.extent.ymax]}:null}function c({scale:n,translate:t},r){return Math.round((r-t[0])/n[0])}function a({scale:n,translate:t},r){return Math.round((t[1]-r)/n[1])}function f(n,t,r){const e=[];let o,u,i,l;for(let s=0;s<r.length;s++){const f=r[s];s>0?(i=c(n,f[0]),l=a(n,f[1]),i===o&&l===u||(e.push(t(f,i-o,l-u)),o=i,u=l)):(o=c(n,f[0]),u=a(n,f[1]),e.push(t(f,o,u)))}return e.length>0?e:null}function m({scale:n,translate:t},r){return r*n[0]+t[0]}function h({scale:n,translate:t},r){return t[1]-r*n[1]}function g(n,t,r){const e=new Array(r.length);if(!r.length)return e;const[o,u]=n.scale;let i=m(n,r[0][0]),l=h(n,r[0][1]);e[0]=t(r[0],i,l);for(let s=1;s<r.length;s++){const n=r[s];i+=n[0]*o,l-=n[1]*u,e[s]=t(n,i,l)}return e}function x(n,t,r){const e=new Array(r.length);for(let o=0;o<r.length;o++)e[o]=g(n,t,r[o]);return e}function p(n,t,r,e,o){return t.points=function(n,t,r,e){return f(n,r?e?l:i:e?i:u,t)}(n,r.points,e,o),t}function y(n,t,r,e,o){return t.x=c(n,r.x),t.y=a(n,r.y),t!==r&&(e&&(t.z=r.z),o&&(t.m=r.m)),t}function z(n,t,r,e,o){const s=function(n,t,r,e){const o=[],s=r?e?l:i:e?i:u;for(let u=0;u<t.length;u++){const r=f(n,s,t[u]);r&&r.length>=3&&o.push(r)}return o.length?o:null}(n,r.rings,e,o);return s?(t.rings=s,t):null}function d(n,t,r,e,o){const s=function(n,t,r,e){const o=[],s=r?e?l:i:e?i:u;for(let u=0;u<t.length;u++){const r=f(n,s,t[u]);r&&r.length>=2&&o.push(r)}return o.length?o:null}(n,r.paths,e,o);return s?(t.paths=s,t):null}function P(u,i){return u&&i?n(i)?y(u,{},i,!1,!1):t(i)?d(u,{},i,!1,!1):r(i)?z(u,{},i,!1,!1):e(i)?p(u,{},i,!1,!1):o(i)?(m=!1,h=!1,(s={}).xmin=c(l=u,(f=i).xmin),s.ymin=a(l,f.ymin),s.xmax=c(l,f.xmax),s.ymax=a(l,f.ymax),s!==f&&(m&&(s.zmin=f.zmin,s.zmax=f.zmax),h&&(s.mmin=f.mmin,s.mmax=f.mmax)),s):null:null;var l,s,f,m,h}function w(n,t,r,e,o){return t.points=function(n,t,r,e){return g(n,r?e?l:i:e?i:u,t)}(n,r.points,e,o),t}function v(n,t,r,e,o){return t.x=m(n,r.x),t.y=h(n,r.y),t!==r&&(e&&(t.z=r.z),o&&(t.m=r.m)),t}function A(n,t,r,e,o){return t.rings=function(n,t,r,e){return x(n,r?e?l:i:e?i:u,t)}(n,r.rings,e,o),t}function L(n,t,r,e,o){return t.paths=function(n,t,r,e){return x(n,r?e?l:i:e?i:u,t)}(n,r.paths,e,o),t}export{y as L,w as U,P as d,v as k,s as m,A as q,L as v};
