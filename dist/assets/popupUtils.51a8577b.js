import{k as e,fV as p,F as l,D as t}from"./vendor.1ee57f36.js";async function d(d,i=d.popupTemplate){if(!e(i))return[];const a=await i.getRequiredFields(d.fields),{lastEditInfoEnabled:s}=i,{objectIdField:n,typeIdField:u,globalIdField:f,relationships:o}=d;if(a.includes("*"))return["*"];const r=s?await p(d):[],c=l(d.fields,[...a,...r]);return u&&c.push(u),c&&n&&t(d.fields,n)&&-1===c.indexOf(n)&&c.push(n),c&&f&&t(d.fields,f)&&-1===c.indexOf(f)&&c.push(f),o&&o.forEach((e=>{const{keyField:p}=e;c&&p&&t(d.fields,p)&&-1===c.indexOf(p)&&c.push(p)})),c}function i(p,l){return p.popupTemplate?p.popupTemplate:e(l)&&l.defaultPopupTemplateEnabled&&e(p.defaultPopupTemplate)?p.defaultPopupTemplate:null}export{i as d,d as i};
